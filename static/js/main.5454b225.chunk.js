(this["webpackJsonpra-4-2"]=this["webpackJsonpra-4-2"]||[]).push([[0],{13:function(e,t,a){e.exports=a(28)},18:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),i=(a(18),a(12)),u=a(1),d=a(3),o=a(4),m=a(7),s=a.n(m),f=a(10),v=a.n(f);function E(e){var t=e.msg;return r.a.createElement("div",{className:"validate"},r.a.createElement("p",null,t))}function b(e){var t=e.valueForm,a=Object(n.useState)({date:!1,distance:!1}),c=Object(o.a)(a,2),l=c[0],i=c[1],m=function(t){var a=t.target,n=a.name,r=a.value;i((function(e){return Object(d.a)({},e,Object(u.a)({},n,!1))})),e.onFormChangre({name:n,value:r})},s=function(e){var t,a=e.target,n=a.name,r=a.value;"date"===n?t=/^(0[1-9]|[12][0-9]|3[01])\.(0[1-9]|1[012])\.\d\d$/:"distance"===n&&(t=/^\d+([.]\d+)?(\u043a\u043c)?$/g),r.match(t)||i((function(e){return Object(d.a)({},e,Object(u.a)({},n,!0))}))};return r.a.createElement("form",{className:"form-add"},r.a.createElement("label",null,"\u0414\u0430\u0442\u0430 (\u0414\u0414.\u041c\u041c.\u0413\u0413)",r.a.createElement("input",{name:"date",value:t.date,onChange:m,onBlur:s}),l.date&&r.a.createElement(E,{msg:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"})),r.a.createElement("label",null,"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e \u043a\u043c",r.a.createElement("input",{name:"distance",value:t.distance,onChange:m,onBlur:s}),l.distance&&r.a.createElement(E,{msg:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0438\u0441\u0442\u0430\u043d\u0446\u0438\u044e \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"})),r.a.createElement("input",{type:"button",value:"OK",onClick:function(a){if(a.preventDefault(),t.date&&t.distance&&!l.date&&!l.distance){var n=parseFloat(t.distance),r=t.distance.replace(n,"");e.onFormSubmit({date:t.date,distance:n,kilometr:r})}}}))}var h=a(11),p=function e(t,a,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(h.a)(this,e),this.id=t,this.date=a,this.distance=n,this.kilometr=r};function g(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.date),r.a.createElement("td",null,t.distance,t.kilometr),r.a.createElement("td",null,r.a.createElement("span",{className:"change",onClick:function(){return a={id:t.id,date:t.date,distance:t.distance,kilometr:t.kilometr},void e.onChange(a);var a}}," "),r.a.createElement("span",{className:"remove",onClick:function(){return a=t.id,void e.onRemove(a);var a}},"\u2718")))})))}function k(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({id:"",date:"",distance:""}),m=Object(o.a)(l,2),f=m[0],E=m[1],h=a.sort((function(e,t){return s()(t.date,"DD.MM.YY")-s()(e.date,"DD.MM.YY")}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{valueForm:f,onFormChangre:function(e){var t=e.name,a=e.value;E((function(e){return Object(d.a)({},e,Object(u.a)({},t,a))}))},onFormSubmit:function(e){var t=e.date,n=e.distance,r=e.kilometr;if(f.id)c((function(e){return e.map((function(e){return e.id===f.id?new p(f.id,t,n,r):e}))}));else{var l=new p(v.a.generate(),t,n,r);c(Object(i.a)(function(e,t){var a=e,n=a.findIndex((function(e){return e.date===t.date}));return-1===n?(a.push(t),a):(a[n].distance+=t.distance,a[n].kilometr=a[n].kilometr||t.kilometr,a)}(a,l)))}E({id:"",date:"",distance:""})}}),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u0414\u0430\u0442\u0430 (\u0414\u0414.\u041c\u041c.\u0413\u0413)"),r.a.createElement("td",null,"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e \u043a\u043c"),r.a.createElement("td",null,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"))),r.a.createElement("tbody",null,r.a.createElement(g,{data:h,onRemove:function(e){c((function(t){return t.filter((function(t){return t.id!==e}))}))},onChange:function(e){E({id:e.id,date:e.date,distance:"".concat(e.distance).concat(e.kilometr)})}}))))}var O=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(k,null))};l.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.5454b225.chunk.js.map